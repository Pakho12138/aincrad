(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{554:function(t,e,a){"use strict";a.r(e);var r=a(1),s=Object(r.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"解决防盗链导致-403-问题"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#解决防盗链导致-403-问题"}},[t._v("#")]),t._v(" 解决防盗链导致 403 问题")]),t._v(" "),e("p",[e("strong",[t._v("Referer")]),t._v("是一种引用策略，可以用来防止图片或视频被盗。它的原理是：http 协议中，如果从一个网页跳到另一个网页，http 头字段里面会带个 Referrer。图片服务器通过检测 Referrer 是否来自规定域名，来进行防盗链。")]),t._v(" "),e("p",[t._v("一些资源开启了防盗链功能，但是实际"),e("strong",[t._v("Request Headers")]),t._v("请求头中的"),e("strong",[t._v("Referer")]),t._v("头不符合防盗链规则导致出现 403。而防盗链问题导致的 403，在 CDN 的 Response headers 中的"),e("strong",[t._v("X-Tengine-Error")]),t._v("会返回"),e("code",[t._v("denied by Referer ACL")]),t._v("。具体防盗链问题请参见"),e("a",{attrs:{href:"https://help.aliyun.com/zh/cdn/solution-to-403-error-return-of-access-alibaba-cloud-content-delivery-network-due-to-anti-leech-anomaly",target:"_blank",rel:"noopener noreferrer"}},[t._v("由于防盗链异常导致访问 CDN 返回 403 错误的解决方法"),e("OutboundLink")],1),t._v("。")]),t._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("X-Tengine-Error: denied by Referer ACL\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])]),e("p",[t._v("在前端项目中可以通过在"),e("strong",[t._v("index.html")]),t._v("中设置"),e("code",[t._v("no-referrer")]),t._v("绕过防盗链机制。")]),t._v(" "),e("div",{staticClass:"language-html line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-html"}},[e("code",[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("meta")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("referrer"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("content")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("no-referrer"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])])])}),[],!1,null,null,null);e.default=s.exports}}]);