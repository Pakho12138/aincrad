(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{545:function(a,s,t){"use strict";t.r(s);var e=t(1),r=Object(e.a)({},(function(){var a=this,s=a._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"ffmpeg-教程-视频切片"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ffmpeg-教程-视频切片"}},[a._v("#")]),a._v(" ffmpeg 教程：视频切片")]),a._v(" "),s("h2",{attrs:{id:"_1-ffmpeg-安装教程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-ffmpeg-安装教程"}},[a._v("#")]),a._v(" 1. ffmpeg 安装教程")]),a._v(" "),s("h3",{attrs:{id:"_1-1-下载地址"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-下载地址"}},[a._v("#")]),a._v(" 1.1 下载地址")]),a._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/BtbN/FFmpeg-Builds/releases",target:"_blank",rel:"noopener noreferrer"}},[a._v("Releases · BtbN/FFmpeg-Builds (github.com)"),s("OutboundLink")],1)]),a._v(" "),s("h3",{attrs:{id:"_1-2-ffmpeg-环境配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-ffmpeg-环境配置"}},[a._v("#")]),a._v(" 1.2 ffmpeg 环境配置")]),a._v(" "),s("p",[a._v("复制 ffmpeg 解压后的路径")]),a._v(" "),s("p",[s("img",{staticClass:"lazy",attrs:{alt:"image-20240518143458890","data-src":"https://ghcdn.pages.dev/other/202405181435295.png"}})]),a._v(" "),s("p",[a._v("配置 ffmpeg 环境变量:高级系统设置>环境变量>双击系统变量 Path>新建>粘贴>确认")]),a._v(" "),s("p",[s("img",{staticClass:"lazy",attrs:{alt:"微信截图_20240518142422","data-src":"https://ghcdn.pages.dev/other/202405181435798.png"}})]),a._v(" "),s("h2",{attrs:{id:"_2-视频分割成-ts-文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-视频分割成-ts-文件"}},[a._v("#")]),a._v(" 2. 视频分割成 ts 文件")]),a._v(" "),s("h3",{attrs:{id:"_2-1-准备-mp4-文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-准备-mp4-文件"}},[a._v("#")]),a._v(" 2.1 准备 mp4 文件")]),a._v(" "),s("h3",{attrs:{id:"_2-2-打开当前目录-cmd-命令窗口"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-打开当前目录-cmd-命令窗口"}},[a._v("#")]),a._v(" 2.2 打开当前目录 cmd 命令窗口")]),a._v(" "),s("p",[s("img",{staticClass:"lazy",attrs:{alt:"image-20240518144051565","data-src":"https://ghcdn.pages.dev/other/202405181440981.png"}})]),a._v(" "),s("p",[a._v("输入命令：")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("ffmpeg "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" YOASOBI_BiriBiri.mp4 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-c:v")]),a._v(" libx264 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-c:a")]),a._v(" aac "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-strict")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-2")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-f")]),a._v(" hls "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-hls_list_size")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-hls_time")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("20")]),a._v(" YOASOBI_BiriBiri.m3u8\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("默认的每片长度为 2 秒，m3u8 文件中默认只保存最新的 5 条片的信息，导致最后播放的时候只能播最后的一小部分（直播的时候特别注意）。\n-hls_time n 设置每片的长度，默认值为 2，单位为秒。\n-hls_list_size n 设置播放列表保存的最多条目，设置为 0 会保存有所片信息，默认值为5。\n-hls_wrap n 设置多少片之后开始覆盖，如果设置为0则不会覆盖，默认值为0。这个选项能够避免在磁盘上存储过多的 片，而且能够限制写入磁盘的最多的片的数量。\n-hls_start_number n 设置播放列表中 sequence number 的值为 number，默认值为 0。\n注意：播放列表的 sequence number 对每个 segment 来说都必须是唯一的，而且它不能和片的文件名（当使用 wrap 选项时，文件名有可能会重复使用）混淆。\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br")])]),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("TS 文件是一种媒体的扩展名，它是日本高清摄像机拍摄下进行的封装格式。\nMPEG2-TS（Transport Stream“传输流”；又称TS、TP、MPEG-TS 或 M2T）\n是用于音效、图像与数据的通信协定，最早应用于DVD的实时传送节目。\nMPEG2-TS格式的特点就是要求从视频流的任一片段开始都是可以独立解码的。\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br")])]),s("p",[s("img",{staticClass:"lazy",attrs:{alt:"img","data-src":"https://ghcdn.pages.dev/other/202405181511544.image"}})]),a._v(" "),s("h3",{attrs:{id:"_2-3-执行结果"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-执行结果"}},[a._v("#")]),a._v(" 2.3 执行结果")]),a._v(" "),s("p",[s("img",{staticClass:"lazy",attrs:{alt:"image-20240518151304679","data-src":"https://ghcdn.pages.dev/other/202405181513636.png"}})])])}),[],!1,null,null,null);s.default=r.exports}}]);